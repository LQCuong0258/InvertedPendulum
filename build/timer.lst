ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"timer.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/Drivers/Src/timer.c"
  20              		.section	.text.MX_TIM2_Init,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	MX_TIM2_Init:
  27              	.LFB180:
   1:Core/Src/Drivers/Src/timer.c **** #include "timer.h"
   2:Core/Src/Drivers/Src/timer.c **** 
   3:Core/Src/Drivers/Src/timer.c **** TIM_HandleTypeDef htim2;
   4:Core/Src/Drivers/Src/timer.c **** TIM_HandleTypeDef htim3;
   5:Core/Src/Drivers/Src/timer.c **** TIM_HandleTypeDef htim7;
   6:Core/Src/Drivers/Src/timer.c **** 
   7:Core/Src/Drivers/Src/timer.c **** extern struct Active * AO_Estimator;
   8:Core/Src/Drivers/Src/timer.c **** extern struct Estimator * estimator;
   9:Core/Src/Drivers/Src/timer.c **** 
  10:Core/Src/Drivers/Src/timer.c **** static void MX_TIM2_Init(void);
  11:Core/Src/Drivers/Src/timer.c **** static void MX_TIM3_Init(void);
  12:Core/Src/Drivers/Src/timer.c **** 
  13:Core/Src/Drivers/Src/timer.c **** Encoder encoder_topic;
  14:Core/Src/Drivers/Src/timer.c **** 
  15:Core/Src/Drivers/Src/timer.c **** /**
  16:Core/Src/Drivers/Src/timer.c ****   * @brief  Input Capture callback in non-blocking mode
  17:Core/Src/Drivers/Src/timer.c ****   * @param  htim TIM IC handle
  18:Core/Src/Drivers/Src/timer.c ****   * @retval None
  19:Core/Src/Drivers/Src/timer.c ****   */
  20:Core/Src/Drivers/Src/timer.c **** void HAL_TIM_IC_CaptureCallback (TIM_HandleTypeDef *htim) {
  21:Core/Src/Drivers/Src/timer.c ****   BaseType_t xHigherPriorityTaskWoken = pdFALSE;
  22:Core/Src/Drivers/Src/timer.c ****   if (htim->Instance == TIM2) {
  23:Core/Src/Drivers/Src/timer.c ****     /* Read motor encoder counter value */
  24:Core/Src/Drivers/Src/timer.c ****     encoder_topic.MotorCnt = (int32_t)((uint32_t)__HAL_TIM_GET_COUNTER(htim));
  25:Core/Src/Drivers/Src/timer.c ****     estimator->publicFromISR(estimator->encoder_sub, &encoder_topic, &xHigherPriorityTaskWoken);
  26:Core/Src/Drivers/Src/timer.c ****   }
  27:Core/Src/Drivers/Src/timer.c ****   else if (htim->Instance == TIM3) {
  28:Core/Src/Drivers/Src/timer.c ****     /* Read pendullum encoder counter value */
  29:Core/Src/Drivers/Src/timer.c ****     encoder_topic.PendulumCnt = (int16_t)((uint32_t) __HAL_TIM_GET_COUNTER(htim));
  30:Core/Src/Drivers/Src/timer.c ****     if (encoder_topic.PendulumCnt >= 4000 || encoder_topic.PendulumCnt <= -4000 ) {
  31:Core/Src/Drivers/Src/timer.c ****       __HAL_TIM_SET_COUNTER(&htim3, 0);
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 2


  32:Core/Src/Drivers/Src/timer.c ****     }
  33:Core/Src/Drivers/Src/timer.c ****     estimator->publicFromISR(estimator->encoder_sub, &encoder_topic, &xHigherPriorityTaskWoken);
  34:Core/Src/Drivers/Src/timer.c ****   }
  35:Core/Src/Drivers/Src/timer.c ****   portEND_SWITCHING_ISR(xHigherPriorityTaskWoken);
  36:Core/Src/Drivers/Src/timer.c **** }
  37:Core/Src/Drivers/Src/timer.c **** 
  38:Core/Src/Drivers/Src/timer.c **** /**
  39:Core/Src/Drivers/Src/timer.c ****   * @brief  Period elapsed callback in non-blocking mode
  40:Core/Src/Drivers/Src/timer.c ****   * @param  htim TIM handle
  41:Core/Src/Drivers/Src/timer.c ****   * @retval None
  42:Core/Src/Drivers/Src/timer.c ****   */
  43:Core/Src/Drivers/Src/timer.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim) {
  44:Core/Src/Drivers/Src/timer.c **** 
  45:Core/Src/Drivers/Src/timer.c ****   BaseType_t xHigherPriorityTaskWoken = pdFALSE;
  46:Core/Src/Drivers/Src/timer.c ****   
  47:Core/Src/Drivers/Src/timer.c ****   if(htim->Instance == TIM7) {
  48:Core/Src/Drivers/Src/timer.c ****     static const Event time_evt = {TIMEOUT_1kHz_SIG};
  49:Core/Src/Drivers/Src/timer.c ****     AO_Estimator->postFromISR(AO_Estimator, &time_evt, &xHigherPriorityTaskWoken);
  50:Core/Src/Drivers/Src/timer.c ****   }
  51:Core/Src/Drivers/Src/timer.c **** 
  52:Core/Src/Drivers/Src/timer.c ****   portEND_SWITCHING_ISR(xHigherPriorityTaskWoken);
  53:Core/Src/Drivers/Src/timer.c **** }
  54:Core/Src/Drivers/Src/timer.c **** 
  55:Core/Src/Drivers/Src/timer.c **** void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin) {
  56:Core/Src/Drivers/Src/timer.c ****   if (GPIO_Pin == GPIO_PIN_1) {
  57:Core/Src/Drivers/Src/timer.c ****     if (encoder_topic.PendulumCnt > 0 && encoder_topic.PendulumCnt < 1000) __HAL_TIM_SET_COUNTER(&h
  58:Core/Src/Drivers/Src/timer.c ****     else if (encoder_topic.PendulumCnt < -3000) __HAL_TIM_SET_COUNTER(&htim3, -3672);
  59:Core/Src/Drivers/Src/timer.c **** 
  60:Core/Src/Drivers/Src/timer.c ****     HAL_GPIO_TogglePin(GPIOD, GPIO_PIN_12);
  61:Core/Src/Drivers/Src/timer.c ****   }
  62:Core/Src/Drivers/Src/timer.c **** }
  63:Core/Src/Drivers/Src/timer.c **** 
  64:Core/Src/Drivers/Src/timer.c **** void EXTI1_IRQHandler(void) {
  65:Core/Src/Drivers/Src/timer.c ****   HAL_GPIO_EXTI_IRQHandler(GPIO_PIN_1); // Xử lý ngắt
  66:Core/Src/Drivers/Src/timer.c **** }
  67:Core/Src/Drivers/Src/timer.c **** 
  68:Core/Src/Drivers/Src/timer.c **** /**
  69:Core/Src/Drivers/Src/timer.c ****   * @brief This function initialize USART1.
  70:Core/Src/Drivers/Src/timer.c ****   */
  71:Core/Src/Drivers/Src/timer.c **** void Driver_Encoder_Init()
  72:Core/Src/Drivers/Src/timer.c **** {
  73:Core/Src/Drivers/Src/timer.c ****   MX_TIM2_Init(); // Motor encoder
  74:Core/Src/Drivers/Src/timer.c ****   MX_TIM3_Init(); // Pendullum encoder
  75:Core/Src/Drivers/Src/timer.c ****   
  76:Core/Src/Drivers/Src/timer.c **** 
  77:Core/Src/Drivers/Src/timer.c ****   encoder_topic = (Encoder) {.MotorCnt = 0, .PendulumCnt = 0};
  78:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_Encoder_Start_IT(&htim2, TIM_CHANNEL_ALL);
  79:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_Encoder_Start_IT(&htim3, TIM_CHANNEL_ALL);
  80:Core/Src/Drivers/Src/timer.c **** }
  81:Core/Src/Drivers/Src/timer.c **** 
  82:Core/Src/Drivers/Src/timer.c **** /**
  83:Core/Src/Drivers/Src/timer.c ****   * @brief TIM2 Initialization Function
  84:Core/Src/Drivers/Src/timer.c ****   * @param None
  85:Core/Src/Drivers/Src/timer.c ****   * @retval None
  86:Core/Src/Drivers/Src/timer.c ****   */
  87:Core/Src/Drivers/Src/timer.c **** static void MX_TIM2_Init(void)
  88:Core/Src/Drivers/Src/timer.c **** {
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 3


  28              		.loc 1 88 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 48
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 30B5     		push	{r4, r5, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 12
  35              		.cfi_offset 4, -12
  36              		.cfi_offset 5, -8
  37              		.cfi_offset 14, -4
  38 0002 8DB0     		sub	sp, sp, #52
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 64
  89:Core/Src/Drivers/Src/timer.c ****   TIM_Encoder_InitTypeDef sConfig = {0};
  41              		.loc 1 89 3 view .LVU1
  42              		.loc 1 89 27 is_stmt 0 view .LVU2
  43 0004 2422     		movs	r2, #36
  44 0006 0021     		movs	r1, #0
  45 0008 03A8     		add	r0, sp, #12
  46 000a FFF7FEFF 		bl	memset
  47              	.LVL0:
  90:Core/Src/Drivers/Src/timer.c ****   TIM_MasterConfigTypeDef sMasterConfig = {0};
  48              		.loc 1 90 3 is_stmt 1 view .LVU3
  49              		.loc 1 90 27 is_stmt 0 view .LVU4
  50 000e 0025     		movs	r5, #0
  51 0010 0195     		str	r5, [sp, #4]
  52 0012 0295     		str	r5, [sp, #8]
  91:Core/Src/Drivers/Src/timer.c **** 
  92:Core/Src/Drivers/Src/timer.c ****   /* USER CODE BEGIN TIM2_Init 1 */
  93:Core/Src/Drivers/Src/timer.c **** 
  94:Core/Src/Drivers/Src/timer.c ****   /* USER CODE END TIM2_Init 1 */
  95:Core/Src/Drivers/Src/timer.c ****   htim2.Instance = TIM2;
  53              		.loc 1 95 3 is_stmt 1 view .LVU5
  54              		.loc 1 95 18 is_stmt 0 view .LVU6
  55 0014 0E4C     		ldr	r4, .L3
  56 0016 4FF08043 		mov	r3, #1073741824
  57 001a 2360     		str	r3, [r4]
  96:Core/Src/Drivers/Src/timer.c ****   htim2.Init.Prescaler = 0;
  58              		.loc 1 96 3 is_stmt 1 view .LVU7
  59              		.loc 1 96 24 is_stmt 0 view .LVU8
  60 001c 6560     		str	r5, [r4, #4]
  97:Core/Src/Drivers/Src/timer.c ****   htim2.Init.CounterMode = TIM_COUNTERMODE_UP;
  61              		.loc 1 97 3 is_stmt 1 view .LVU9
  62              		.loc 1 97 26 is_stmt 0 view .LVU10
  63 001e A560     		str	r5, [r4, #8]
  98:Core/Src/Drivers/Src/timer.c ****   htim2.Init.Period = 4294967295; /* 0 -> (2^32) - 1*/
  64              		.loc 1 98 3 is_stmt 1 view .LVU11
  65              		.loc 1 98 21 is_stmt 0 view .LVU12
  66 0020 4FF0FF33 		mov	r3, #-1
  67 0024 E360     		str	r3, [r4, #12]
  99:Core/Src/Drivers/Src/timer.c ****   htim2.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
  68              		.loc 1 99 3 is_stmt 1 view .LVU13
  69              		.loc 1 99 28 is_stmt 0 view .LVU14
  70 0026 2561     		str	r5, [r4, #16]
 100:Core/Src/Drivers/Src/timer.c ****   htim2.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_ENABLE;
  71              		.loc 1 100 3 is_stmt 1 view .LVU15
  72              		.loc 1 100 32 is_stmt 0 view .LVU16
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 4


  73 0028 8023     		movs	r3, #128
  74 002a A361     		str	r3, [r4, #24]
 101:Core/Src/Drivers/Src/timer.c ****   sConfig.EncoderMode = TIM_ENCODERMODE_TI12;
  75              		.loc 1 101 3 is_stmt 1 view .LVU17
  76              		.loc 1 101 23 is_stmt 0 view .LVU18
  77 002c 0323     		movs	r3, #3
  78 002e 0393     		str	r3, [sp, #12]
 102:Core/Src/Drivers/Src/timer.c ****   sConfig.IC1Polarity = TIM_ICPOLARITY_RISING;
  79              		.loc 1 102 3 is_stmt 1 view .LVU19
 103:Core/Src/Drivers/Src/timer.c ****   sConfig.IC1Selection = TIM_ICSELECTION_DIRECTTI;
  80              		.loc 1 103 3 view .LVU20
  81              		.loc 1 103 24 is_stmt 0 view .LVU21
  82 0030 0123     		movs	r3, #1
  83 0032 0593     		str	r3, [sp, #20]
 104:Core/Src/Drivers/Src/timer.c ****   sConfig.IC1Prescaler = TIM_ICPSC_DIV1;
  84              		.loc 1 104 3 is_stmt 1 view .LVU22
 105:Core/Src/Drivers/Src/timer.c ****   sConfig.IC1Filter = 0;
  85              		.loc 1 105 3 view .LVU23
 106:Core/Src/Drivers/Src/timer.c ****   sConfig.IC2Polarity = TIM_ICPOLARITY_RISING;
  86              		.loc 1 106 3 view .LVU24
 107:Core/Src/Drivers/Src/timer.c ****   sConfig.IC2Selection = TIM_ICSELECTION_DIRECTTI;
  87              		.loc 1 107 3 view .LVU25
  88              		.loc 1 107 24 is_stmt 0 view .LVU26
  89 0034 0993     		str	r3, [sp, #36]
 108:Core/Src/Drivers/Src/timer.c ****   sConfig.IC2Prescaler = TIM_ICPSC_DIV1;
  90              		.loc 1 108 3 is_stmt 1 view .LVU27
 109:Core/Src/Drivers/Src/timer.c ****   sConfig.IC2Filter = 0;
  91              		.loc 1 109 3 view .LVU28
 110:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_Encoder_Init(&htim2, &sConfig);
  92              		.loc 1 110 3 view .LVU29
  93 0036 03A9     		add	r1, sp, #12
  94 0038 2046     		mov	r0, r4
  95 003a FFF7FEFF 		bl	HAL_TIM_Encoder_Init
  96              	.LVL1:
 111:Core/Src/Drivers/Src/timer.c ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
  97              		.loc 1 111 3 view .LVU30
  98              		.loc 1 111 37 is_stmt 0 view .LVU31
  99 003e 0195     		str	r5, [sp, #4]
 112:Core/Src/Drivers/Src/timer.c ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 100              		.loc 1 112 3 is_stmt 1 view .LVU32
 101              		.loc 1 112 33 is_stmt 0 view .LVU33
 102 0040 0295     		str	r5, [sp, #8]
 113:Core/Src/Drivers/Src/timer.c ****   HAL_TIMEx_MasterConfigSynchronization(&htim2, &sMasterConfig);
 103              		.loc 1 113 3 is_stmt 1 view .LVU34
 104 0042 01A9     		add	r1, sp, #4
 105 0044 2046     		mov	r0, r4
 106 0046 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 107              	.LVL2:
 114:Core/Src/Drivers/Src/timer.c **** }
 108              		.loc 1 114 1 is_stmt 0 view .LVU35
 109 004a 0DB0     		add	sp, sp, #52
 110              	.LCFI2:
 111              		.cfi_def_cfa_offset 12
 112              		@ sp needed
 113 004c 30BD     		pop	{r4, r5, pc}
 114              	.L4:
 115 004e 00BF     		.align	2
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 5


 116              	.L3:
 117 0050 00000000 		.word	htim2
 118              		.cfi_endproc
 119              	.LFE180:
 121              		.section	.text.MX_TIM3_Init,"ax",%progbits
 122              		.align	1
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 127              	MX_TIM3_Init:
 128              	.LFB181:
 115:Core/Src/Drivers/Src/timer.c **** 
 116:Core/Src/Drivers/Src/timer.c **** /**
 117:Core/Src/Drivers/Src/timer.c ****   * @brief TIM3 Initialization Function
 118:Core/Src/Drivers/Src/timer.c ****   * @param None
 119:Core/Src/Drivers/Src/timer.c ****   * @retval None
 120:Core/Src/Drivers/Src/timer.c ****   */
 121:Core/Src/Drivers/Src/timer.c **** static void MX_TIM3_Init(void) {
 129              		.loc 1 121 32 is_stmt 1 view -0
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 48
 132              		@ frame_needed = 0, uses_anonymous_args = 0
 133 0000 30B5     		push	{r4, r5, lr}
 134              	.LCFI3:
 135              		.cfi_def_cfa_offset 12
 136              		.cfi_offset 4, -12
 137              		.cfi_offset 5, -8
 138              		.cfi_offset 14, -4
 139 0002 8DB0     		sub	sp, sp, #52
 140              	.LCFI4:
 141              		.cfi_def_cfa_offset 64
 122:Core/Src/Drivers/Src/timer.c ****   TIM_Encoder_InitTypeDef sConfig = {0};
 142              		.loc 1 122 3 view .LVU37
 143              		.loc 1 122 27 is_stmt 0 view .LVU38
 144 0004 2422     		movs	r2, #36
 145 0006 0021     		movs	r1, #0
 146 0008 03A8     		add	r0, sp, #12
 147 000a FFF7FEFF 		bl	memset
 148              	.LVL3:
 123:Core/Src/Drivers/Src/timer.c ****   TIM_MasterConfigTypeDef sMasterConfig = {0};
 149              		.loc 1 123 3 is_stmt 1 view .LVU39
 150              		.loc 1 123 27 is_stmt 0 view .LVU40
 151 000e 0025     		movs	r5, #0
 152 0010 0195     		str	r5, [sp, #4]
 153 0012 0295     		str	r5, [sp, #8]
 124:Core/Src/Drivers/Src/timer.c **** 
 125:Core/Src/Drivers/Src/timer.c ****   /* USER CODE BEGIN TIM3_Init 1 */
 126:Core/Src/Drivers/Src/timer.c **** 
 127:Core/Src/Drivers/Src/timer.c ****   /* USER CODE END TIM3_Init 1 */
 128:Core/Src/Drivers/Src/timer.c ****   htim3.Instance = TIM3;
 154              		.loc 1 128 3 is_stmt 1 view .LVU41
 155              		.loc 1 128 18 is_stmt 0 view .LVU42
 156 0014 0D4C     		ldr	r4, .L7
 157 0016 0E4B     		ldr	r3, .L7+4
 158 0018 2360     		str	r3, [r4]
 129:Core/Src/Drivers/Src/timer.c ****   htim3.Init.Prescaler = 0;
 159              		.loc 1 129 3 is_stmt 1 view .LVU43
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 6


 160              		.loc 1 129 24 is_stmt 0 view .LVU44
 161 001a 6560     		str	r5, [r4, #4]
 130:Core/Src/Drivers/Src/timer.c ****   htim3.Init.CounterMode = TIM_COUNTERMODE_UP;
 162              		.loc 1 130 3 is_stmt 1 view .LVU45
 163              		.loc 1 130 26 is_stmt 0 view .LVU46
 164 001c A560     		str	r5, [r4, #8]
 131:Core/Src/Drivers/Src/timer.c ****   htim3.Init.Period = 65535; /* 0 -> (2^16) - 1*/
 165              		.loc 1 131 3 is_stmt 1 view .LVU47
 166              		.loc 1 131 21 is_stmt 0 view .LVU48
 167 001e 4FF6FF73 		movw	r3, #65535
 168 0022 E360     		str	r3, [r4, #12]
 132:Core/Src/Drivers/Src/timer.c ****   htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 169              		.loc 1 132 3 is_stmt 1 view .LVU49
 170              		.loc 1 132 28 is_stmt 0 view .LVU50
 171 0024 2561     		str	r5, [r4, #16]
 133:Core/Src/Drivers/Src/timer.c ****   htim3.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_ENABLE;
 172              		.loc 1 133 3 is_stmt 1 view .LVU51
 173              		.loc 1 133 32 is_stmt 0 view .LVU52
 174 0026 8023     		movs	r3, #128
 175 0028 A361     		str	r3, [r4, #24]
 134:Core/Src/Drivers/Src/timer.c ****   sConfig.EncoderMode = TIM_ENCODERMODE_TI12;
 176              		.loc 1 134 3 is_stmt 1 view .LVU53
 177              		.loc 1 134 23 is_stmt 0 view .LVU54
 178 002a 0323     		movs	r3, #3
 179 002c 0393     		str	r3, [sp, #12]
 135:Core/Src/Drivers/Src/timer.c ****   sConfig.IC1Polarity = TIM_ICPOLARITY_RISING;
 180              		.loc 1 135 3 is_stmt 1 view .LVU55
 136:Core/Src/Drivers/Src/timer.c ****   sConfig.IC1Selection = TIM_ICSELECTION_DIRECTTI;
 181              		.loc 1 136 3 view .LVU56
 182              		.loc 1 136 24 is_stmt 0 view .LVU57
 183 002e 0123     		movs	r3, #1
 184 0030 0593     		str	r3, [sp, #20]
 137:Core/Src/Drivers/Src/timer.c ****   sConfig.IC1Prescaler = TIM_ICPSC_DIV1;
 185              		.loc 1 137 3 is_stmt 1 view .LVU58
 138:Core/Src/Drivers/Src/timer.c ****   sConfig.IC1Filter = 0;
 186              		.loc 1 138 3 view .LVU59
 139:Core/Src/Drivers/Src/timer.c ****   sConfig.IC2Polarity = TIM_ICPOLARITY_RISING;
 187              		.loc 1 139 3 view .LVU60
 140:Core/Src/Drivers/Src/timer.c ****   sConfig.IC2Selection = TIM_ICSELECTION_DIRECTTI;
 188              		.loc 1 140 3 view .LVU61
 189              		.loc 1 140 24 is_stmt 0 view .LVU62
 190 0032 0993     		str	r3, [sp, #36]
 141:Core/Src/Drivers/Src/timer.c ****   sConfig.IC2Prescaler = TIM_ICPSC_DIV1;
 191              		.loc 1 141 3 is_stmt 1 view .LVU63
 142:Core/Src/Drivers/Src/timer.c ****   sConfig.IC2Filter = 0;
 192              		.loc 1 142 3 view .LVU64
 143:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_Encoder_Init(&htim3, &sConfig);
 193              		.loc 1 143 3 view .LVU65
 194 0034 03A9     		add	r1, sp, #12
 195 0036 2046     		mov	r0, r4
 196 0038 FFF7FEFF 		bl	HAL_TIM_Encoder_Init
 197              	.LVL4:
 144:Core/Src/Drivers/Src/timer.c ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
 198              		.loc 1 144 3 view .LVU66
 199              		.loc 1 144 37 is_stmt 0 view .LVU67
 200 003c 0195     		str	r5, [sp, #4]
 145:Core/Src/Drivers/Src/timer.c ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 7


 201              		.loc 1 145 3 is_stmt 1 view .LVU68
 202              		.loc 1 145 33 is_stmt 0 view .LVU69
 203 003e 0295     		str	r5, [sp, #8]
 146:Core/Src/Drivers/Src/timer.c ****   HAL_TIMEx_MasterConfigSynchronization(&htim3, &sMasterConfig);
 204              		.loc 1 146 3 is_stmt 1 view .LVU70
 205 0040 01A9     		add	r1, sp, #4
 206 0042 2046     		mov	r0, r4
 207 0044 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 208              	.LVL5:
 147:Core/Src/Drivers/Src/timer.c **** }
 209              		.loc 1 147 1 is_stmt 0 view .LVU71
 210 0048 0DB0     		add	sp, sp, #52
 211              	.LCFI5:
 212              		.cfi_def_cfa_offset 12
 213              		@ sp needed
 214 004a 30BD     		pop	{r4, r5, pc}
 215              	.L8:
 216              		.align	2
 217              	.L7:
 218 004c 00000000 		.word	htim3
 219 0050 00040040 		.word	1073742848
 220              		.cfi_endproc
 221              	.LFE181:
 223              		.section	.text.HAL_TIM_IC_CaptureCallback,"ax",%progbits
 224              		.align	1
 225              		.global	HAL_TIM_IC_CaptureCallback
 226              		.syntax unified
 227              		.thumb
 228              		.thumb_func
 230              	HAL_TIM_IC_CaptureCallback:
 231              	.LVL6:
 232              	.LFB175:
  20:Core/Src/Drivers/Src/timer.c ****   BaseType_t xHigherPriorityTaskWoken = pdFALSE;
 233              		.loc 1 20 59 is_stmt 1 view -0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 8
 236              		@ frame_needed = 0, uses_anonymous_args = 0
  20:Core/Src/Drivers/Src/timer.c ****   BaseType_t xHigherPriorityTaskWoken = pdFALSE;
 237              		.loc 1 20 59 is_stmt 0 view .LVU73
 238 0000 10B5     		push	{r4, lr}
 239              	.LCFI6:
 240              		.cfi_def_cfa_offset 8
 241              		.cfi_offset 4, -8
 242              		.cfi_offset 14, -4
 243 0002 82B0     		sub	sp, sp, #8
 244              	.LCFI7:
 245              		.cfi_def_cfa_offset 16
  21:Core/Src/Drivers/Src/timer.c ****   if (htim->Instance == TIM2) {
 246              		.loc 1 21 3 is_stmt 1 view .LVU74
  21:Core/Src/Drivers/Src/timer.c ****   if (htim->Instance == TIM2) {
 247              		.loc 1 21 14 is_stmt 0 view .LVU75
 248 0004 0023     		movs	r3, #0
 249 0006 0193     		str	r3, [sp, #4]
  22:Core/Src/Drivers/Src/timer.c ****     /* Read motor encoder counter value */
 250              		.loc 1 22 3 is_stmt 1 view .LVU76
  22:Core/Src/Drivers/Src/timer.c ****     /* Read motor encoder counter value */
 251              		.loc 1 22 11 is_stmt 0 view .LVU77
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 8


 252 0008 0368     		ldr	r3, [r0]
  22:Core/Src/Drivers/Src/timer.c ****     /* Read motor encoder counter value */
 253              		.loc 1 22 6 view .LVU78
 254 000a B3F1804F 		cmp	r3, #1073741824
 255 000e 10D0     		beq	.L15
  27:Core/Src/Drivers/Src/timer.c ****     /* Read pendullum encoder counter value */
 256              		.loc 1 27 8 is_stmt 1 view .LVU79
  27:Core/Src/Drivers/Src/timer.c ****     /* Read pendullum encoder counter value */
 257              		.loc 1 27 11 is_stmt 0 view .LVU80
 258 0010 1A4A     		ldr	r2, .L17
 259 0012 9342     		cmp	r3, r2
 260 0014 19D0     		beq	.L16
 261              	.LVL7:
 262              	.L11:
  35:Core/Src/Drivers/Src/timer.c **** }
 263              		.loc 1 35 3 is_stmt 1 view .LVU81
  35:Core/Src/Drivers/Src/timer.c **** }
 264              		.loc 1 35 3 view .LVU82
 265 0016 019B     		ldr	r3, [sp, #4]
 266 0018 4BB1     		cbz	r3, .L9
  35:Core/Src/Drivers/Src/timer.c **** }
 267              		.loc 1 35 3 discriminator 1 view .LVU83
 268 001a 4FF0E023 		mov	r3, #-536813568
 269 001e 4FF08052 		mov	r2, #268435456
 270 0022 C3F8042D 		str	r2, [r3, #3332]
  35:Core/Src/Drivers/Src/timer.c **** }
 271              		.loc 1 35 3 discriminator 1 view .LVU84
 272              		.syntax unified
 273              	@ 35 "Core/Src/Drivers/Src/timer.c" 1
 274 0026 BFF34F8F 		dsb
 275              	@ 0 "" 2
  35:Core/Src/Drivers/Src/timer.c **** }
 276              		.loc 1 35 3 discriminator 1 view .LVU85
 277              	@ 35 "Core/Src/Drivers/Src/timer.c" 1
 278 002a BFF36F8F 		isb
 279              	@ 0 "" 2
  35:Core/Src/Drivers/Src/timer.c **** }
 280              		.loc 1 35 3 discriminator 3 view .LVU86
  35:Core/Src/Drivers/Src/timer.c **** }
 281              		.loc 1 35 3 discriminator 3 view .LVU87
 282              		.thumb
 283              		.syntax unified
 284              	.L9:
  36:Core/Src/Drivers/Src/timer.c **** 
 285              		.loc 1 36 1 is_stmt 0 view .LVU88
 286 002e 02B0     		add	sp, sp, #8
 287              	.LCFI8:
 288              		.cfi_remember_state
 289              		.cfi_def_cfa_offset 8
 290              		@ sp needed
 291 0030 10BD     		pop	{r4, pc}
 292              	.LVL8:
 293              	.L15:
 294              	.LCFI9:
 295              		.cfi_restore_state
  24:Core/Src/Drivers/Src/timer.c ****     estimator->publicFromISR(estimator->encoder_sub, &encoder_topic, &xHigherPriorityTaskWoken);
 296              		.loc 1 24 5 is_stmt 1 view .LVU89
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 9


  24:Core/Src/Drivers/Src/timer.c ****     estimator->publicFromISR(estimator->encoder_sub, &encoder_topic, &xHigherPriorityTaskWoken);
 297              		.loc 1 24 50 is_stmt 0 view .LVU90
 298 0032 5B6A     		ldr	r3, [r3, #36]
  24:Core/Src/Drivers/Src/timer.c ****     estimator->publicFromISR(estimator->encoder_sub, &encoder_topic, &xHigherPriorityTaskWoken);
 299              		.loc 1 24 28 view .LVU91
 300 0034 1249     		ldr	r1, .L17+4
 301 0036 4B60     		str	r3, [r1, #4]
  25:Core/Src/Drivers/Src/timer.c ****   }
 302              		.loc 1 25 5 is_stmt 1 view .LVU92
  25:Core/Src/Drivers/Src/timer.c ****   }
 303              		.loc 1 25 14 is_stmt 0 view .LVU93
 304 0038 124B     		ldr	r3, .L17+8
 305 003a 1B68     		ldr	r3, [r3]
 306 003c D3F8E440 		ldr	r4, [r3, #228]
  25:Core/Src/Drivers/Src/timer.c ****   }
 307              		.loc 1 25 5 view .LVU94
 308 0040 01AA     		add	r2, sp, #4
 309 0042 D3F8D000 		ldr	r0, [r3, #208]
 310              	.LVL9:
  25:Core/Src/Drivers/Src/timer.c ****   }
 311              		.loc 1 25 5 view .LVU95
 312 0046 A047     		blx	r4
 313              	.LVL10:
 314 0048 E5E7     		b	.L11
 315              	.LVL11:
 316              	.L16:
  29:Core/Src/Drivers/Src/timer.c ****     if (encoder_topic.PendulumCnt >= 4000 || encoder_topic.PendulumCnt <= -4000 ) {
 317              		.loc 1 29 5 is_stmt 1 view .LVU96
  29:Core/Src/Drivers/Src/timer.c ****     if (encoder_topic.PendulumCnt >= 4000 || encoder_topic.PendulumCnt <= -4000 ) {
 318              		.loc 1 29 54 is_stmt 0 view .LVU97
 319 004a 5B6A     		ldr	r3, [r3, #36]
  29:Core/Src/Drivers/Src/timer.c ****     if (encoder_topic.PendulumCnt >= 4000 || encoder_topic.PendulumCnt <= -4000 ) {
 320              		.loc 1 29 31 view .LVU98
 321 004c 0C4A     		ldr	r2, .L17+4
 322 004e 1380     		strh	r3, [r2]	@ movhi
  30:Core/Src/Drivers/Src/timer.c ****       __HAL_TIM_SET_COUNTER(&htim3, 0);
 323              		.loc 1 30 5 is_stmt 1 view .LVU99
  30:Core/Src/Drivers/Src/timer.c ****       __HAL_TIM_SET_COUNTER(&htim3, 0);
 324              		.loc 1 30 43 is_stmt 0 view .LVU100
 325 0050 03F69F73 		addw	r3, r3, #3999
 326 0054 9BB2     		uxth	r3, r3
  30:Core/Src/Drivers/Src/timer.c ****       __HAL_TIM_SET_COUNTER(&htim3, 0);
 327              		.loc 1 30 8 view .LVU101
 328 0056 41F63E72 		movw	r2, #7998
 329 005a 9342     		cmp	r3, r2
 330 005c 03D9     		bls	.L12
  31:Core/Src/Drivers/Src/timer.c ****     }
 331              		.loc 1 31 7 is_stmt 1 view .LVU102
 332 005e 0A4B     		ldr	r3, .L17+12
 333 0060 1B68     		ldr	r3, [r3]
 334 0062 0022     		movs	r2, #0
 335 0064 5A62     		str	r2, [r3, #36]
 336              	.L12:
  33:Core/Src/Drivers/Src/timer.c ****   }
 337              		.loc 1 33 5 view .LVU103
  33:Core/Src/Drivers/Src/timer.c ****   }
 338              		.loc 1 33 14 is_stmt 0 view .LVU104
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 10


 339 0066 074B     		ldr	r3, .L17+8
 340 0068 1B68     		ldr	r3, [r3]
 341 006a D3F8E440 		ldr	r4, [r3, #228]
  33:Core/Src/Drivers/Src/timer.c ****   }
 342              		.loc 1 33 5 view .LVU105
 343 006e 01AA     		add	r2, sp, #4
 344 0070 0349     		ldr	r1, .L17+4
 345 0072 D3F8D000 		ldr	r0, [r3, #208]
 346              	.LVL12:
  33:Core/Src/Drivers/Src/timer.c ****   }
 347              		.loc 1 33 5 view .LVU106
 348 0076 A047     		blx	r4
 349              	.LVL13:
 350 0078 CDE7     		b	.L11
 351              	.L18:
 352 007a 00BF     		.align	2
 353              	.L17:
 354 007c 00040040 		.word	1073742848
 355 0080 00000000 		.word	encoder_topic
 356 0084 00000000 		.word	estimator
 357 0088 00000000 		.word	htim3
 358              		.cfi_endproc
 359              	.LFE175:
 361              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 362              		.align	1
 363              		.global	HAL_TIM_PeriodElapsedCallback
 364              		.syntax unified
 365              		.thumb
 366              		.thumb_func
 368              	HAL_TIM_PeriodElapsedCallback:
 369              	.LVL14:
 370              	.LFB176:
  43:Core/Src/Drivers/Src/timer.c **** 
 371              		.loc 1 43 61 is_stmt 1 view -0
 372              		.cfi_startproc
 373              		@ args = 0, pretend = 0, frame = 8
 374              		@ frame_needed = 0, uses_anonymous_args = 0
  43:Core/Src/Drivers/Src/timer.c **** 
 375              		.loc 1 43 61 is_stmt 0 view .LVU108
 376 0000 00B5     		push	{lr}
 377              	.LCFI10:
 378              		.cfi_def_cfa_offset 4
 379              		.cfi_offset 14, -4
 380 0002 83B0     		sub	sp, sp, #12
 381              	.LCFI11:
 382              		.cfi_def_cfa_offset 16
  45:Core/Src/Drivers/Src/timer.c ****   
 383              		.loc 1 45 3 is_stmt 1 view .LVU109
  45:Core/Src/Drivers/Src/timer.c ****   
 384              		.loc 1 45 14 is_stmt 0 view .LVU110
 385 0004 0023     		movs	r3, #0
 386 0006 0193     		str	r3, [sp, #4]
  47:Core/Src/Drivers/Src/timer.c ****     static const Event time_evt = {TIMEOUT_1kHz_SIG};
 387              		.loc 1 47 3 is_stmt 1 view .LVU111
  47:Core/Src/Drivers/Src/timer.c ****     static const Event time_evt = {TIMEOUT_1kHz_SIG};
 388              		.loc 1 47 10 is_stmt 0 view .LVU112
 389 0008 0268     		ldr	r2, [r0]
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 11


  47:Core/Src/Drivers/Src/timer.c ****     static const Event time_evt = {TIMEOUT_1kHz_SIG};
 390              		.loc 1 47 5 view .LVU113
 391 000a 0D4B     		ldr	r3, .L24
 392 000c 9A42     		cmp	r2, r3
 393 000e 0ED0     		beq	.L23
 394              	.LVL15:
 395              	.L20:
  52:Core/Src/Drivers/Src/timer.c **** }
 396              		.loc 1 52 3 is_stmt 1 view .LVU114
  52:Core/Src/Drivers/Src/timer.c **** }
 397              		.loc 1 52 3 view .LVU115
 398 0010 019B     		ldr	r3, [sp, #4]
 399 0012 4BB1     		cbz	r3, .L19
  52:Core/Src/Drivers/Src/timer.c **** }
 400              		.loc 1 52 3 discriminator 1 view .LVU116
 401 0014 4FF0E023 		mov	r3, #-536813568
 402 0018 4FF08052 		mov	r2, #268435456
 403 001c C3F8042D 		str	r2, [r3, #3332]
  52:Core/Src/Drivers/Src/timer.c **** }
 404              		.loc 1 52 3 discriminator 1 view .LVU117
 405              		.syntax unified
 406              	@ 52 "Core/Src/Drivers/Src/timer.c" 1
 407 0020 BFF34F8F 		dsb
 408              	@ 0 "" 2
  52:Core/Src/Drivers/Src/timer.c **** }
 409              		.loc 1 52 3 discriminator 1 view .LVU118
 410              	@ 52 "Core/Src/Drivers/Src/timer.c" 1
 411 0024 BFF36F8F 		isb
 412              	@ 0 "" 2
  52:Core/Src/Drivers/Src/timer.c **** }
 413              		.loc 1 52 3 discriminator 3 view .LVU119
  52:Core/Src/Drivers/Src/timer.c **** }
 414              		.loc 1 52 3 discriminator 3 view .LVU120
 415              		.thumb
 416              		.syntax unified
 417              	.L19:
  53:Core/Src/Drivers/Src/timer.c **** 
 418              		.loc 1 53 1 is_stmt 0 view .LVU121
 419 0028 03B0     		add	sp, sp, #12
 420              	.LCFI12:
 421              		.cfi_remember_state
 422              		.cfi_def_cfa_offset 4
 423              		@ sp needed
 424 002a 5DF804FB 		ldr	pc, [sp], #4
 425              	.LVL16:
 426              	.L23:
 427              	.LCFI13:
 428              		.cfi_restore_state
 429              	.LBB2:
  48:Core/Src/Drivers/Src/timer.c ****     AO_Estimator->postFromISR(AO_Estimator, &time_evt, &xHigherPriorityTaskWoken);
 430              		.loc 1 48 5 is_stmt 1 view .LVU122
  49:Core/Src/Drivers/Src/timer.c ****   }
 431              		.loc 1 49 5 view .LVU123
  49:Core/Src/Drivers/Src/timer.c ****   }
 432              		.loc 1 49 17 is_stmt 0 view .LVU124
 433 002e 054B     		ldr	r3, .L24+4
 434 0030 1868     		ldr	r0, [r3]
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 12


 435              	.LVL17:
  49:Core/Src/Drivers/Src/timer.c ****   }
 436              		.loc 1 49 17 view .LVU125
 437 0032 D0F8C830 		ldr	r3, [r0, #200]
  49:Core/Src/Drivers/Src/timer.c ****   }
 438              		.loc 1 49 5 view .LVU126
 439 0036 01AA     		add	r2, sp, #4
 440 0038 0349     		ldr	r1, .L24+8
 441 003a 9847     		blx	r3
 442              	.LVL18:
 443 003c E8E7     		b	.L20
 444              	.L25:
 445 003e 00BF     		.align	2
 446              	.L24:
 447 0040 00140040 		.word	1073746944
 448 0044 00000000 		.word	AO_Estimator
 449 0048 00000000 		.word	time_evt.0
 450              	.LBE2:
 451              		.cfi_endproc
 452              	.LFE176:
 454              		.section	.text.HAL_GPIO_EXTI_Callback,"ax",%progbits
 455              		.align	1
 456              		.global	HAL_GPIO_EXTI_Callback
 457              		.syntax unified
 458              		.thumb
 459              		.thumb_func
 461              	HAL_GPIO_EXTI_Callback:
 462              	.LVL19:
 463              	.LFB177:
  55:Core/Src/Drivers/Src/timer.c ****   if (GPIO_Pin == GPIO_PIN_1) {
 464              		.loc 1 55 48 is_stmt 1 view -0
 465              		.cfi_startproc
 466              		@ args = 0, pretend = 0, frame = 0
 467              		@ frame_needed = 0, uses_anonymous_args = 0
  56:Core/Src/Drivers/Src/timer.c ****     if (encoder_topic.PendulumCnt > 0 && encoder_topic.PendulumCnt < 1000) __HAL_TIM_SET_COUNTER(&h
 468              		.loc 1 56 3 view .LVU128
  56:Core/Src/Drivers/Src/timer.c ****     if (encoder_topic.PendulumCnt > 0 && encoder_topic.PendulumCnt < 1000) __HAL_TIM_SET_COUNTER(&h
 469              		.loc 1 56 6 is_stmt 0 view .LVU129
 470 0000 0228     		cmp	r0, #2
 471 0002 00D0     		beq	.L34
 472 0004 7047     		bx	lr
 473              	.L34:
  55:Core/Src/Drivers/Src/timer.c ****   if (GPIO_Pin == GPIO_PIN_1) {
 474              		.loc 1 55 48 view .LVU130
 475 0006 08B5     		push	{r3, lr}
 476              	.LCFI14:
 477              		.cfi_def_cfa_offset 8
 478              		.cfi_offset 3, -8
 479              		.cfi_offset 14, -4
  57:Core/Src/Drivers/Src/timer.c ****     else if (encoder_topic.PendulumCnt < -3000) __HAL_TIM_SET_COUNTER(&htim3, -3672);
 480              		.loc 1 57 5 is_stmt 1 view .LVU131
  57:Core/Src/Drivers/Src/timer.c ****     else if (encoder_topic.PendulumCnt < -3000) __HAL_TIM_SET_COUNTER(&htim3, -3672);
 481              		.loc 1 57 22 is_stmt 0 view .LVU132
 482 0008 0D4B     		ldr	r3, .L35
 483 000a B3F90020 		ldrsh	r2, [r3]
  57:Core/Src/Drivers/Src/timer.c ****     else if (encoder_topic.PendulumCnt < -3000) __HAL_TIM_SET_COUNTER(&htim3, -3672);
 484              		.loc 1 57 39 view .LVU133
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 13


 485 000e 531E     		subs	r3, r2, #1
 486 0010 9BB2     		uxth	r3, r3
  57:Core/Src/Drivers/Src/timer.c ****     else if (encoder_topic.PendulumCnt < -3000) __HAL_TIM_SET_COUNTER(&htim3, -3672);
 487              		.loc 1 57 8 view .LVU134
 488 0012 40F2E631 		movw	r1, #998
 489 0016 8B42     		cmp	r3, r1
 490 0018 0AD8     		bhi	.L28
  57:Core/Src/Drivers/Src/timer.c ****     else if (encoder_topic.PendulumCnt < -3000) __HAL_TIM_SET_COUNTER(&htim3, -3672);
 491              		.loc 1 57 76 is_stmt 1 discriminator 1 view .LVU135
 492 001a 0A4B     		ldr	r3, .L35+4
 493 001c 1B68     		ldr	r3, [r3]
 494 001e 4FF4A472 		mov	r2, #328
 495 0022 5A62     		str	r2, [r3, #36]
 496              	.L29:
  60:Core/Src/Drivers/Src/timer.c ****   }
 497              		.loc 1 60 5 view .LVU136
 498 0024 4FF48051 		mov	r1, #4096
 499 0028 0748     		ldr	r0, .L35+8
 500              	.LVL20:
  60:Core/Src/Drivers/Src/timer.c ****   }
 501              		.loc 1 60 5 is_stmt 0 view .LVU137
 502 002a FFF7FEFF 		bl	HAL_GPIO_TogglePin
 503              	.LVL21:
  62:Core/Src/Drivers/Src/timer.c **** 
 504              		.loc 1 62 1 view .LVU138
 505 002e 08BD     		pop	{r3, pc}
 506              	.LVL22:
 507              	.L28:
  58:Core/Src/Drivers/Src/timer.c **** 
 508              		.loc 1 58 10 is_stmt 1 view .LVU139
  58:Core/Src/Drivers/Src/timer.c **** 
 509              		.loc 1 58 13 is_stmt 0 view .LVU140
 510 0030 064B     		ldr	r3, .L35+12
 511 0032 9A42     		cmp	r2, r3
 512 0034 F6DA     		bge	.L29
  58:Core/Src/Drivers/Src/timer.c **** 
 513              		.loc 1 58 49 is_stmt 1 discriminator 1 view .LVU141
 514 0036 034B     		ldr	r3, .L35+4
 515 0038 1B68     		ldr	r3, [r3]
 516 003a 054A     		ldr	r2, .L35+16
 517 003c 5A62     		str	r2, [r3, #36]
 518 003e F1E7     		b	.L29
 519              	.L36:
 520              		.align	2
 521              	.L35:
 522 0040 00000000 		.word	encoder_topic
 523 0044 00000000 		.word	htim3
 524 0048 000C0240 		.word	1073875968
 525 004c 48F4FFFF 		.word	-3000
 526 0050 A8F1FFFF 		.word	-3672
 527              		.cfi_endproc
 528              	.LFE177:
 530              		.section	.text.EXTI1_IRQHandler,"ax",%progbits
 531              		.align	1
 532              		.global	EXTI1_IRQHandler
 533              		.syntax unified
 534              		.thumb
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 14


 535              		.thumb_func
 537              	EXTI1_IRQHandler:
 538              	.LFB178:
  64:Core/Src/Drivers/Src/timer.c ****   HAL_GPIO_EXTI_IRQHandler(GPIO_PIN_1); // Xử lý ngắt
 539              		.loc 1 64 29 view -0
 540              		.cfi_startproc
 541              		@ args = 0, pretend = 0, frame = 0
 542              		@ frame_needed = 0, uses_anonymous_args = 0
 543 0000 08B5     		push	{r3, lr}
 544              	.LCFI15:
 545              		.cfi_def_cfa_offset 8
 546              		.cfi_offset 3, -8
 547              		.cfi_offset 14, -4
  65:Core/Src/Drivers/Src/timer.c **** }
 548              		.loc 1 65 3 view .LVU143
 549 0002 0220     		movs	r0, #2
 550 0004 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 551              	.LVL23:
  66:Core/Src/Drivers/Src/timer.c **** 
 552              		.loc 1 66 1 is_stmt 0 view .LVU144
 553 0008 08BD     		pop	{r3, pc}
 554              		.cfi_endproc
 555              	.LFE178:
 557              		.section	.text.Driver_Encoder_Init,"ax",%progbits
 558              		.align	1
 559              		.global	Driver_Encoder_Init
 560              		.syntax unified
 561              		.thumb
 562              		.thumb_func
 564              	Driver_Encoder_Init:
 565              	.LFB179:
  72:Core/Src/Drivers/Src/timer.c ****   MX_TIM2_Init(); // Motor encoder
 566              		.loc 1 72 1 is_stmt 1 view -0
 567              		.cfi_startproc
 568              		@ args = 0, pretend = 0, frame = 0
 569              		@ frame_needed = 0, uses_anonymous_args = 0
 570 0000 08B5     		push	{r3, lr}
 571              	.LCFI16:
 572              		.cfi_def_cfa_offset 8
 573              		.cfi_offset 3, -8
 574              		.cfi_offset 14, -4
  73:Core/Src/Drivers/Src/timer.c ****   MX_TIM3_Init(); // Pendullum encoder
 575              		.loc 1 73 3 view .LVU146
 576 0002 FFF7FEFF 		bl	MX_TIM2_Init
 577              	.LVL24:
  74:Core/Src/Drivers/Src/timer.c ****   
 578              		.loc 1 74 3 view .LVU147
 579 0006 FFF7FEFF 		bl	MX_TIM3_Init
 580              	.LVL25:
  77:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_Encoder_Start_IT(&htim2, TIM_CHANNEL_ALL);
 581              		.loc 1 77 3 view .LVU148
  77:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_Encoder_Start_IT(&htim2, TIM_CHANNEL_ALL);
 582              		.loc 1 77 17 is_stmt 0 view .LVU149
 583 000a 064B     		ldr	r3, .L41
 584 000c 0022     		movs	r2, #0
 585 000e 1A80     		strh	r2, [r3]	@ movhi
 586 0010 5A60     		str	r2, [r3, #4]
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 15


  78:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_Encoder_Start_IT(&htim3, TIM_CHANNEL_ALL);
 587              		.loc 1 78 3 is_stmt 1 view .LVU150
 588 0012 3C21     		movs	r1, #60
 589 0014 0448     		ldr	r0, .L41+4
 590 0016 FFF7FEFF 		bl	HAL_TIM_Encoder_Start_IT
 591              	.LVL26:
  79:Core/Src/Drivers/Src/timer.c **** }
 592              		.loc 1 79 3 view .LVU151
 593 001a 3C21     		movs	r1, #60
 594 001c 0348     		ldr	r0, .L41+8
 595 001e FFF7FEFF 		bl	HAL_TIM_Encoder_Start_IT
 596              	.LVL27:
  80:Core/Src/Drivers/Src/timer.c **** 
 597              		.loc 1 80 1 is_stmt 0 view .LVU152
 598 0022 08BD     		pop	{r3, pc}
 599              	.L42:
 600              		.align	2
 601              	.L41:
 602 0024 00000000 		.word	encoder_topic
 603 0028 00000000 		.word	htim2
 604 002c 00000000 		.word	htim3
 605              		.cfi_endproc
 606              	.LFE179:
 608              		.section	.text.HAL_TIM_Encoder_MspInit,"ax",%progbits
 609              		.align	1
 610              		.global	HAL_TIM_Encoder_MspInit
 611              		.syntax unified
 612              		.thumb
 613              		.thumb_func
 615              	HAL_TIM_Encoder_MspInit:
 616              	.LVL28:
 617              	.LFB182:
 148:Core/Src/Drivers/Src/timer.c **** 
 149:Core/Src/Drivers/Src/timer.c **** /**
 150:Core/Src/Drivers/Src/timer.c **** * @brief TIM_Encoder MSP Initialization
 151:Core/Src/Drivers/Src/timer.c **** * This function configures the hardware resources used in this example
 152:Core/Src/Drivers/Src/timer.c **** * @param htim_encoder: TIM_Encoder handle pointer
 153:Core/Src/Drivers/Src/timer.c **** * @retval None
 154:Core/Src/Drivers/Src/timer.c **** */
 155:Core/Src/Drivers/Src/timer.c **** void HAL_TIM_Encoder_MspInit(TIM_HandleTypeDef* htim_encoder) {
 618              		.loc 1 155 63 is_stmt 1 view -0
 619              		.cfi_startproc
 620              		@ args = 0, pretend = 0, frame = 40
 621              		@ frame_needed = 0, uses_anonymous_args = 0
 622              		.loc 1 155 63 is_stmt 0 view .LVU154
 623 0000 10B5     		push	{r4, lr}
 624              	.LCFI17:
 625              		.cfi_def_cfa_offset 8
 626              		.cfi_offset 4, -8
 627              		.cfi_offset 14, -4
 628 0002 8AB0     		sub	sp, sp, #40
 629              	.LCFI18:
 630              		.cfi_def_cfa_offset 48
 156:Core/Src/Drivers/Src/timer.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 631              		.loc 1 156 3 is_stmt 1 view .LVU155
 632              		.loc 1 156 20 is_stmt 0 view .LVU156
 633 0004 0023     		movs	r3, #0
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 16


 634 0006 0593     		str	r3, [sp, #20]
 635 0008 0693     		str	r3, [sp, #24]
 636 000a 0793     		str	r3, [sp, #28]
 637 000c 0893     		str	r3, [sp, #32]
 638 000e 0993     		str	r3, [sp, #36]
 157:Core/Src/Drivers/Src/timer.c **** 
 158:Core/Src/Drivers/Src/timer.c ****   if (htim_encoder->Instance == TIM2) {
 639              		.loc 1 158 3 is_stmt 1 view .LVU157
 640              		.loc 1 158 19 is_stmt 0 view .LVU158
 641 0010 0368     		ldr	r3, [r0]
 642              		.loc 1 158 6 view .LVU159
 643 0012 B3F1804F 		cmp	r3, #1073741824
 644 0016 04D0     		beq	.L47
 159:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_TIM2_CLK_ENABLE();
 160:Core/Src/Drivers/Src/timer.c **** 
 161:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 162:Core/Src/Drivers/Src/timer.c ****     /**TIM2 GPIO Configuration
 163:Core/Src/Drivers/Src/timer.c ****     PA0-WKUP     ------> TIM2_CH1
 164:Core/Src/Drivers/Src/timer.c ****     PA1     ------> TIM2_CH2
 165:Core/Src/Drivers/Src/timer.c ****     */
 166:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Pin = GPIO_PIN_0|GPIO_PIN_1;
 167:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 168:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 169:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 170:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Alternate = GPIO_AF1_TIM2;
 171:Core/Src/Drivers/Src/timer.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 172:Core/Src/Drivers/Src/timer.c **** 
 173:Core/Src/Drivers/Src/timer.c ****     /* TIM2 interrupt Init */
 174:Core/Src/Drivers/Src/timer.c ****     HAL_NVIC_SetPriority(TIM2_IRQn, 7, 0);
 175:Core/Src/Drivers/Src/timer.c ****     HAL_NVIC_EnableIRQ(TIM2_IRQn);
 176:Core/Src/Drivers/Src/timer.c ****   }
 177:Core/Src/Drivers/Src/timer.c **** 
 178:Core/Src/Drivers/Src/timer.c ****   else if (htim_encoder->Instance == TIM3) {
 645              		.loc 1 178 8 is_stmt 1 view .LVU160
 646              		.loc 1 178 11 is_stmt 0 view .LVU161
 647 0018 2C4A     		ldr	r2, .L49
 648 001a 9342     		cmp	r3, r2
 649 001c 2BD0     		beq	.L48
 650              	.LVL29:
 651              	.L43:
 179:Core/Src/Drivers/Src/timer.c ****     /* Peripheral clock enable */
 180:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_TIM3_CLK_ENABLE();
 181:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 182:Core/Src/Drivers/Src/timer.c **** 
 183:Core/Src/Drivers/Src/timer.c ****     /**TIM3 GPIO Configuration
 184:Core/Src/Drivers/Src/timer.c ****      * PA6     ------> TIM3_CH1
 185:Core/Src/Drivers/Src/timer.c ****      * PA7     ------> TIM3_CH2
 186:Core/Src/Drivers/Src/timer.c ****      */
 187:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Pin = GPIO_PIN_6|GPIO_PIN_7;
 188:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 189:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 190:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 191:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Alternate = GPIO_AF2_TIM3;
 192:Core/Src/Drivers/Src/timer.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 193:Core/Src/Drivers/Src/timer.c **** 
 194:Core/Src/Drivers/Src/timer.c ****     /* TIM3 interrupt Init */
 195:Core/Src/Drivers/Src/timer.c ****     HAL_NVIC_SetPriority(TIM3_IRQn, 7, 0);
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 17


 196:Core/Src/Drivers/Src/timer.c ****     HAL_NVIC_EnableIRQ(TIM3_IRQn);
 197:Core/Src/Drivers/Src/timer.c ****   }
 198:Core/Src/Drivers/Src/timer.c **** }
 652              		.loc 1 198 1 view .LVU162
 653 001e 0AB0     		add	sp, sp, #40
 654              	.LCFI19:
 655              		.cfi_remember_state
 656              		.cfi_def_cfa_offset 8
 657              		@ sp needed
 658 0020 10BD     		pop	{r4, pc}
 659              	.LVL30:
 660              	.L47:
 661              	.LCFI20:
 662              		.cfi_restore_state
 159:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_TIM2_CLK_ENABLE();
 663              		.loc 1 159 5 is_stmt 1 view .LVU163
 664              	.LBB3:
 159:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_TIM2_CLK_ENABLE();
 665              		.loc 1 159 5 view .LVU164
 666 0022 0024     		movs	r4, #0
 667 0024 0194     		str	r4, [sp, #4]
 159:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_TIM2_CLK_ENABLE();
 668              		.loc 1 159 5 view .LVU165
 669 0026 03F50E33 		add	r3, r3, #145408
 670 002a 1A6C     		ldr	r2, [r3, #64]
 671 002c 42F00102 		orr	r2, r2, #1
 672 0030 1A64     		str	r2, [r3, #64]
 159:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_TIM2_CLK_ENABLE();
 673              		.loc 1 159 5 view .LVU166
 674 0032 1A6C     		ldr	r2, [r3, #64]
 675 0034 02F00102 		and	r2, r2, #1
 676 0038 0192     		str	r2, [sp, #4]
 159:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_TIM2_CLK_ENABLE();
 677              		.loc 1 159 5 view .LVU167
 678 003a 019A     		ldr	r2, [sp, #4]
 679              	.LBE3:
 159:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_TIM2_CLK_ENABLE();
 680              		.loc 1 159 5 view .LVU168
 161:Core/Src/Drivers/Src/timer.c ****     /**TIM2 GPIO Configuration
 681              		.loc 1 161 5 view .LVU169
 682              	.LBB4:
 161:Core/Src/Drivers/Src/timer.c ****     /**TIM2 GPIO Configuration
 683              		.loc 1 161 5 view .LVU170
 684 003c 0294     		str	r4, [sp, #8]
 161:Core/Src/Drivers/Src/timer.c ****     /**TIM2 GPIO Configuration
 685              		.loc 1 161 5 view .LVU171
 686 003e 1A6B     		ldr	r2, [r3, #48]
 687 0040 42F00102 		orr	r2, r2, #1
 688 0044 1A63     		str	r2, [r3, #48]
 161:Core/Src/Drivers/Src/timer.c ****     /**TIM2 GPIO Configuration
 689              		.loc 1 161 5 view .LVU172
 690 0046 1B6B     		ldr	r3, [r3, #48]
 691 0048 03F00103 		and	r3, r3, #1
 692 004c 0293     		str	r3, [sp, #8]
 161:Core/Src/Drivers/Src/timer.c ****     /**TIM2 GPIO Configuration
 693              		.loc 1 161 5 view .LVU173
 694 004e 029B     		ldr	r3, [sp, #8]
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 18


 695              	.LBE4:
 161:Core/Src/Drivers/Src/timer.c ****     /**TIM2 GPIO Configuration
 696              		.loc 1 161 5 view .LVU174
 166:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 697              		.loc 1 166 5 view .LVU175
 166:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 698              		.loc 1 166 25 is_stmt 0 view .LVU176
 699 0050 0323     		movs	r3, #3
 700 0052 0593     		str	r3, [sp, #20]
 167:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 701              		.loc 1 167 5 is_stmt 1 view .LVU177
 167:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 702              		.loc 1 167 26 is_stmt 0 view .LVU178
 703 0054 0223     		movs	r3, #2
 704 0056 0693     		str	r3, [sp, #24]
 168:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 705              		.loc 1 168 5 is_stmt 1 view .LVU179
 169:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Alternate = GPIO_AF1_TIM2;
 706              		.loc 1 169 5 view .LVU180
 170:Core/Src/Drivers/Src/timer.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 707              		.loc 1 170 5 view .LVU181
 170:Core/Src/Drivers/Src/timer.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 708              		.loc 1 170 31 is_stmt 0 view .LVU182
 709 0058 0123     		movs	r3, #1
 710 005a 0993     		str	r3, [sp, #36]
 171:Core/Src/Drivers/Src/timer.c **** 
 711              		.loc 1 171 5 is_stmt 1 view .LVU183
 712 005c 05A9     		add	r1, sp, #20
 713 005e 1C48     		ldr	r0, .L49+4
 714              	.LVL31:
 171:Core/Src/Drivers/Src/timer.c **** 
 715              		.loc 1 171 5 is_stmt 0 view .LVU184
 716 0060 FFF7FEFF 		bl	HAL_GPIO_Init
 717              	.LVL32:
 174:Core/Src/Drivers/Src/timer.c ****     HAL_NVIC_EnableIRQ(TIM2_IRQn);
 718              		.loc 1 174 5 is_stmt 1 view .LVU185
 719 0064 2246     		mov	r2, r4
 720 0066 0721     		movs	r1, #7
 721 0068 1C20     		movs	r0, #28
 722 006a FFF7FEFF 		bl	HAL_NVIC_SetPriority
 723              	.LVL33:
 175:Core/Src/Drivers/Src/timer.c ****   }
 724              		.loc 1 175 5 view .LVU186
 725 006e 1C20     		movs	r0, #28
 726 0070 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 727              	.LVL34:
 728 0074 D3E7     		b	.L43
 729              	.LVL35:
 730              	.L48:
 180:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 731              		.loc 1 180 5 view .LVU187
 732              	.LBB5:
 180:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 733              		.loc 1 180 5 view .LVU188
 734 0076 0024     		movs	r4, #0
 735 0078 0394     		str	r4, [sp, #12]
 180:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 19


 736              		.loc 1 180 5 view .LVU189
 737 007a 164B     		ldr	r3, .L49+8
 738 007c 1A6C     		ldr	r2, [r3, #64]
 739 007e 42F00202 		orr	r2, r2, #2
 740 0082 1A64     		str	r2, [r3, #64]
 180:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 741              		.loc 1 180 5 view .LVU190
 742 0084 1A6C     		ldr	r2, [r3, #64]
 743 0086 02F00202 		and	r2, r2, #2
 744 008a 0392     		str	r2, [sp, #12]
 180:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 745              		.loc 1 180 5 view .LVU191
 746 008c 039A     		ldr	r2, [sp, #12]
 747              	.LBE5:
 180:Core/Src/Drivers/Src/timer.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 748              		.loc 1 180 5 view .LVU192
 181:Core/Src/Drivers/Src/timer.c **** 
 749              		.loc 1 181 5 view .LVU193
 750              	.LBB6:
 181:Core/Src/Drivers/Src/timer.c **** 
 751              		.loc 1 181 5 view .LVU194
 752 008e 0494     		str	r4, [sp, #16]
 181:Core/Src/Drivers/Src/timer.c **** 
 753              		.loc 1 181 5 view .LVU195
 754 0090 1A6B     		ldr	r2, [r3, #48]
 755 0092 42F00102 		orr	r2, r2, #1
 756 0096 1A63     		str	r2, [r3, #48]
 181:Core/Src/Drivers/Src/timer.c **** 
 757              		.loc 1 181 5 view .LVU196
 758 0098 1B6B     		ldr	r3, [r3, #48]
 759 009a 03F00103 		and	r3, r3, #1
 760 009e 0493     		str	r3, [sp, #16]
 181:Core/Src/Drivers/Src/timer.c **** 
 761              		.loc 1 181 5 view .LVU197
 762 00a0 049B     		ldr	r3, [sp, #16]
 763              	.LBE6:
 181:Core/Src/Drivers/Src/timer.c **** 
 764              		.loc 1 181 5 view .LVU198
 187:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 765              		.loc 1 187 5 view .LVU199
 187:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 766              		.loc 1 187 25 is_stmt 0 view .LVU200
 767 00a2 C023     		movs	r3, #192
 768 00a4 0593     		str	r3, [sp, #20]
 188:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 769              		.loc 1 188 5 is_stmt 1 view .LVU201
 188:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 770              		.loc 1 188 26 is_stmt 0 view .LVU202
 771 00a6 0223     		movs	r3, #2
 772 00a8 0693     		str	r3, [sp, #24]
 189:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 773              		.loc 1 189 5 is_stmt 1 view .LVU203
 189:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 774              		.loc 1 189 26 is_stmt 0 view .LVU204
 775 00aa 0122     		movs	r2, #1
 776 00ac 0792     		str	r2, [sp, #28]
 190:Core/Src/Drivers/Src/timer.c ****     GPIO_InitStruct.Alternate = GPIO_AF2_TIM3;
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 20


 777              		.loc 1 190 5 is_stmt 1 view .LVU205
 191:Core/Src/Drivers/Src/timer.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 778              		.loc 1 191 5 view .LVU206
 191:Core/Src/Drivers/Src/timer.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 779              		.loc 1 191 31 is_stmt 0 view .LVU207
 780 00ae 0993     		str	r3, [sp, #36]
 192:Core/Src/Drivers/Src/timer.c **** 
 781              		.loc 1 192 5 is_stmt 1 view .LVU208
 782 00b0 05A9     		add	r1, sp, #20
 783 00b2 0748     		ldr	r0, .L49+4
 784              	.LVL36:
 192:Core/Src/Drivers/Src/timer.c **** 
 785              		.loc 1 192 5 is_stmt 0 view .LVU209
 786 00b4 FFF7FEFF 		bl	HAL_GPIO_Init
 787              	.LVL37:
 195:Core/Src/Drivers/Src/timer.c ****     HAL_NVIC_EnableIRQ(TIM3_IRQn);
 788              		.loc 1 195 5 is_stmt 1 view .LVU210
 789 00b8 2246     		mov	r2, r4
 790 00ba 0721     		movs	r1, #7
 791 00bc 1D20     		movs	r0, #29
 792 00be FFF7FEFF 		bl	HAL_NVIC_SetPriority
 793              	.LVL38:
 196:Core/Src/Drivers/Src/timer.c ****   }
 794              		.loc 1 196 5 view .LVU211
 795 00c2 1D20     		movs	r0, #29
 796 00c4 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 797              	.LVL39:
 798              		.loc 1 198 1 is_stmt 0 view .LVU212
 799 00c8 A9E7     		b	.L43
 800              	.L50:
 801 00ca 00BF     		.align	2
 802              	.L49:
 803 00cc 00040040 		.word	1073742848
 804 00d0 00000240 		.word	1073872896
 805 00d4 00380240 		.word	1073887232
 806              		.cfi_endproc
 807              	.LFE182:
 809              		.section	.text.TIM2_IRQHandler,"ax",%progbits
 810              		.align	1
 811              		.global	TIM2_IRQHandler
 812              		.syntax unified
 813              		.thumb
 814              		.thumb_func
 816              	TIM2_IRQHandler:
 817              	.LFB183:
 199:Core/Src/Drivers/Src/timer.c **** 
 200:Core/Src/Drivers/Src/timer.c **** /**
 201:Core/Src/Drivers/Src/timer.c ****   * @brief This function handles TIM2 global interrupt.
 202:Core/Src/Drivers/Src/timer.c ****   */
 203:Core/Src/Drivers/Src/timer.c **** void TIM2_IRQHandler(void)
 204:Core/Src/Drivers/Src/timer.c **** {
 818              		.loc 1 204 1 is_stmt 1 view -0
 819              		.cfi_startproc
 820              		@ args = 0, pretend = 0, frame = 0
 821              		@ frame_needed = 0, uses_anonymous_args = 0
 822 0000 08B5     		push	{r3, lr}
 823              	.LCFI21:
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 21


 824              		.cfi_def_cfa_offset 8
 825              		.cfi_offset 3, -8
 826              		.cfi_offset 14, -4
 205:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_IRQHandler(&htim2);
 827              		.loc 1 205 3 view .LVU214
 828 0002 0248     		ldr	r0, .L53
 829 0004 FFF7FEFF 		bl	HAL_TIM_IRQHandler
 830              	.LVL40:
 206:Core/Src/Drivers/Src/timer.c **** }
 831              		.loc 1 206 1 is_stmt 0 view .LVU215
 832 0008 08BD     		pop	{r3, pc}
 833              	.L54:
 834 000a 00BF     		.align	2
 835              	.L53:
 836 000c 00000000 		.word	htim2
 837              		.cfi_endproc
 838              	.LFE183:
 840              		.section	.text.TIM3_IRQHandler,"ax",%progbits
 841              		.align	1
 842              		.global	TIM3_IRQHandler
 843              		.syntax unified
 844              		.thumb
 845              		.thumb_func
 847              	TIM3_IRQHandler:
 848              	.LFB184:
 207:Core/Src/Drivers/Src/timer.c **** 
 208:Core/Src/Drivers/Src/timer.c **** /**
 209:Core/Src/Drivers/Src/timer.c ****   * @brief This function handles TIM3 global interrupt.
 210:Core/Src/Drivers/Src/timer.c ****   */
 211:Core/Src/Drivers/Src/timer.c **** void TIM3_IRQHandler(void)
 212:Core/Src/Drivers/Src/timer.c **** {
 849              		.loc 1 212 1 is_stmt 1 view -0
 850              		.cfi_startproc
 851              		@ args = 0, pretend = 0, frame = 0
 852              		@ frame_needed = 0, uses_anonymous_args = 0
 853 0000 08B5     		push	{r3, lr}
 854              	.LCFI22:
 855              		.cfi_def_cfa_offset 8
 856              		.cfi_offset 3, -8
 857              		.cfi_offset 14, -4
 213:Core/Src/Drivers/Src/timer.c ****   HAL_TIM_IRQHandler(&htim3);
 858              		.loc 1 213 3 view .LVU217
 859 0002 0248     		ldr	r0, .L57
 860 0004 FFF7FEFF 		bl	HAL_TIM_IRQHandler
 861              	.LVL41:
 214:Core/Src/Drivers/Src/timer.c **** }
 862              		.loc 1 214 1 is_stmt 0 view .LVU218
 863 0008 08BD     		pop	{r3, pc}
 864              	.L58:
 865 000a 00BF     		.align	2
 866              	.L57:
 867 000c 00000000 		.word	htim3
 868              		.cfi_endproc
 869              	.LFE184:
 871              		.section	.rodata.time_evt.0,"a"
 872              		.align	2
 875              	time_evt.0:
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 22


 876 0000 0300     		.short	3
 877              		.global	encoder_topic
 878              		.section	.bss.encoder_topic,"aw",%nobits
 879              		.align	2
 882              	encoder_topic:
 883 0000 00000000 		.space	8
 883      00000000 
 884              		.global	htim7
 885              		.section	.bss.htim7,"aw",%nobits
 886              		.align	2
 889              	htim7:
 890 0000 00000000 		.space	72
 890      00000000 
 890      00000000 
 890      00000000 
 890      00000000 
 891              		.global	htim3
 892              		.section	.bss.htim3,"aw",%nobits
 893              		.align	2
 896              	htim3:
 897 0000 00000000 		.space	72
 897      00000000 
 897      00000000 
 897      00000000 
 897      00000000 
 898              		.global	htim2
 899              		.section	.bss.htim2,"aw",%nobits
 900              		.align	2
 903              	htim2:
 904 0000 00000000 		.space	72
 904      00000000 
 904      00000000 
 904      00000000 
 904      00000000 
 905              		.text
 906              	.Letext0:
 907              		.file 2 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 908              		.file 3 "C:/ARM GNU Toolchain/arm-none-eabi/include/machine/_default_types.h"
 909              		.file 4 "C:/ARM GNU Toolchain/arm-none-eabi/include/sys/_stdint.h"
 910              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 911              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 912              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 913              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 914              		.file 9 "ThirdParty/FreeRTOS/portable/GCC/ARM_CM4F/portmacro.h"
 915              		.file 10 "ThirdParty/FreeRTOS/include/FreeRTOS.h"
 916              		.file 11 "ThirdParty/FreeRTOS/include/task.h"
 917              		.file 12 "ThirdParty/FreeRTOS/include/queue.h"
 918              		.file 13 "Drivers/CMSIS/DSP/Include/arm_math.h"
 919              		.file 14 "Core/Src/Middleware/Topic.h"
 920              		.file 15 "Core/Src/Middleware/Active_Object.h"
 921              		.file 16 "Core/Src/Middleware/dsp.h"
 922              		.file 17 "Core/Src/Application/Inc/Estimator.h"
 923              		.file 18 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 924              		.file 19 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim_ex.h"
 925              		.file 20 "<built-in>"
ARM GAS  C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 timer.c
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:21     .text.MX_TIM2_Init:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:26     .text.MX_TIM2_Init:00000000 MX_TIM2_Init
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:117    .text.MX_TIM2_Init:00000050 $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:903    .bss.htim2:00000000 htim2
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:122    .text.MX_TIM3_Init:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:127    .text.MX_TIM3_Init:00000000 MX_TIM3_Init
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:218    .text.MX_TIM3_Init:0000004c $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:896    .bss.htim3:00000000 htim3
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:224    .text.HAL_TIM_IC_CaptureCallback:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:230    .text.HAL_TIM_IC_CaptureCallback:00000000 HAL_TIM_IC_CaptureCallback
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:354    .text.HAL_TIM_IC_CaptureCallback:0000007c $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:882    .bss.encoder_topic:00000000 encoder_topic
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:362    .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:368    .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:447    .text.HAL_TIM_PeriodElapsedCallback:00000040 $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:875    .rodata.time_evt.0:00000000 time_evt.0
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:455    .text.HAL_GPIO_EXTI_Callback:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:461    .text.HAL_GPIO_EXTI_Callback:00000000 HAL_GPIO_EXTI_Callback
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:522    .text.HAL_GPIO_EXTI_Callback:00000040 $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:531    .text.EXTI1_IRQHandler:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:537    .text.EXTI1_IRQHandler:00000000 EXTI1_IRQHandler
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:558    .text.Driver_Encoder_Init:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:564    .text.Driver_Encoder_Init:00000000 Driver_Encoder_Init
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:602    .text.Driver_Encoder_Init:00000024 $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:609    .text.HAL_TIM_Encoder_MspInit:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:615    .text.HAL_TIM_Encoder_MspInit:00000000 HAL_TIM_Encoder_MspInit
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:803    .text.HAL_TIM_Encoder_MspInit:000000cc $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:810    .text.TIM2_IRQHandler:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:816    .text.TIM2_IRQHandler:00000000 TIM2_IRQHandler
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:836    .text.TIM2_IRQHandler:0000000c $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:841    .text.TIM3_IRQHandler:00000000 $t
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:847    .text.TIM3_IRQHandler:00000000 TIM3_IRQHandler
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:867    .text.TIM3_IRQHandler:0000000c $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:872    .rodata.time_evt.0:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:879    .bss.encoder_topic:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:889    .bss.htim7:00000000 htim7
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:886    .bss.htim7:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:893    .bss.htim3:00000000 $d
C:\Users\Lamp\AppData\Local\Temp\cc6NPFlg.s:900    .bss.htim2:00000000 $d

UNDEFINED SYMBOLS
memset
HAL_TIM_Encoder_Init
HAL_TIMEx_MasterConfigSynchronization
estimator
AO_Estimator
HAL_GPIO_TogglePin
HAL_GPIO_EXTI_IRQHandler
HAL_TIM_Encoder_Start_IT
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_TIM_IRQHandler
